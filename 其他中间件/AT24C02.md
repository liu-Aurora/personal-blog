# AT24C02储存芯片

## 一、概述

>  AT24C02是 低工作电压的 2Kb 串行电可擦除 **只读存储器**，可存储 **256个字节** 数据，内部有一个 **16字节页写缓冲器**。AT24C02工作电压 1.8～5.5V，采用二线制 **IIC数据传输协议**，支持硬件写保护，能擦写 100万次，数据可保存 100年。

**AT24C02是一个2K bit的EEPROM存储器，使用IIC通信方式。**

![image-20240910221742876](D:\markdown\其他中间件\assets\image-20240910221742876.png)	

![image-20240910221811383](D:\markdown\其他中间件\assets\image-20240910221811383.png)

## 二、AT24C02通讯地址

![image-20240910222103794](D:\markdown\其他中间件\assets\image-20240910222103794.png)

> 主器件通过 发送一个 起始信号 启动发送过程，然后 发送它所要 寻址的 从器件的地址。高 4位 固定为 1010，接下来的 3位 A2、A1、A0为器件 的地址位（由器件 1～3引脚外接电平决定），用来 寻址哪个器件 被主器件访问，8位 地址的 最低位作为读写控制位（ 1表示对 从器件进行读操作，0 表示对从器件 进行写操作 ）。

**需注意的是：** 2k的存储地址----8个bit位，即可表示2^8 = 256*8 = 2048bit，所以4k、8k明显内存地址空间不够。所以，**要进行借位，借1位器件地址**，来表示内存地址

 **AT24C02寻址方式：**

（1）芯片寻址：AT24C02芯片地址固定为1010，它是 IIC总线器件的 特征编码，其地址控制字的格式为 1010 A2 A1 A0 R/W。A2 A1 A0 引脚接高、低电平后得到 确定的 3位编码，与1010 形成的 7位编码，即为 该器件的地址码。由于 A2 A1 A0共有 8种组合，故系统最多可外接 8片 AT24C02，R / W是 对芯片的 读 / 写控制位。
（2）片内子地址寻址： 确定AT24C02芯片的 7位地址码 后，片内的存储空间 可用 1字节的 **地址码寻址**，寻址范围为**00H～FFH**，可对片内的 256个单元进行 读 / 写操作。

## 三、**AT24C02读写时序**

### 1. 写操作

>AT24C02有两种写入方式：**字节写入方式 和 页写入方式。字节写模式** 就是一个地址一个数据进行写入。**页写模式** 就是连续写入数据。
>
>*只需要写一个地址，连续写入数据时 **地址会自增**，但存在 **页的限制**，**超出一页时，超出数据覆盖原 先写入的数据**。但 **读会自动翻页**。*

 **（1）字节写入方式**

![image-20240910223040845](D:\markdown\其他中间件\assets\image-20240910223040845.png)

![image-20240910223136058](D:\markdown\其他中间件\assets\image-20240910223136058.png)

 **（2）页写入方式**

![image-20240910223155534](D:\markdown\其他中间件\assets\image-20240910223155534.png)

### 2、读操作

**（1）指定地址读方式**

![](D:\markdown\其他中间件\assets\image-20240910223455294.png)

> 单片机 发送启动信号后，先 发送含有芯片 地址的 写操作控制字，AT24C02 应答后，单片机再发送 1 字节 的指定单元 的地址，AT24C02 应答后再发送 1个 含有芯片 地址的 读操作 控制字，此时如果 AT24C02 做出应答，被访问 单元的数据就 会按 SCL信号同步 出现在SDA线上，供单片机 读取。
>

**（2）连续读方式**

![image-20240910223608575](D:\markdown\其他中间件\assets\image-20240910223608575.png)

>​    连续读操作可通过 立即读 或 指定地址读操作启动，在 AT24C02 发送完一个 8 位 字节数据后，主器件 产生一个 应答信号来 响应，告知 AT24C02 主器件要求 更多的数据，只有 AT24C02检测到应答信号后，其 内部的 地址寄存器 就自动加 1 指向 下一个单元，并顺序 将指向 单元的数据送到 SDA 线上。对应 每个主机产生的 应答信号，AT24C02 将发送 一个数据字节，当 主器件不发送应答信号而 发送停止位 时结束此操作。
>
>  从 AT24C02 输出的数据按顺序由 N 到 N+1 输出。读操作时，地址计数器在 AT24C02 整个地址内 增加，这样 整个寄存器区域 可在一个读操作内全部读出。当前读取的 字节地址为255时，地址计数器 将翻转到 0 并继续 输出 数据字节。